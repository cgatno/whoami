:root {
  /* Light mode palette */
  --color-stardust: oklch(98% 0.003 0);
  --color-nebula: oklch(95% 0.02 60);
  --color-galaxy: oklch(55% 0.2 295);
  --color-cosmos: oklch(70% 0.15 350);
  --color-nova: oklch(75% 0.18 45);
  --color-void: oklch(25% 0.02 280);
  --color-ink: oklch(16% 0.01 280);

  /* Dark mode palette */
  --color-abyss: oklch(15% 0.02 280);
  --color-twilight: oklch(20% 0.03 285);
  --color-aurora: oklch(75% 0.15 295);
  --color-zodiac: oklch(80% 0.12 350);
  --color-eclipse: oklch(80% 0.15 45);
  --color-moonlight: oklch(95% 0.02 60);
  --color-starlight: oklch(98% 0.01 60);

  --font-sans:
    "Plus Jakarta Sans Variable", -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, sans-serif;
  --font-serif: "Fraunces Variable", Georgia, "Times New Roman", serif;
  --font-mono:
    "Fira Code Variable", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  /* Type scale (using modular scale ratio of 1.25) */
  --text-xs: clamp(0.64rem, 0.17vw + 0.76rem, 0.7rem);
  --text-sm: clamp(0.8rem, 0.17vw + 0.76rem, 0.875rem);
  --text-base: clamp(1rem, 0.34vw + 0.91rem, 1.09rem);
  --text-lg: clamp(1.25rem, 0.61vw + 1.1rem, 1.37rem);
  --text-xl: clamp(1.56rem, 1vw + 1.31rem, 1.71rem);
  --text-2xl: clamp(1.95rem, 1.56vw + 1.56rem, 2.14rem);
  --text-3xl: clamp(2.44rem, 2.38vw + 1.85rem, 2.67rem);
  --text-4xl: clamp(3.05rem, 3.54vw + 2.17rem, 3.34rem);

  /* Spacing */
  --space-xs: clamp(0.75rem, 0.69vw + 0.57rem, 1rem);
  --space-sm: clamp(1rem, 0.98vw + 0.74rem, 1.5rem);
  --space-md: clamp(1.5rem, 1.95vw + 0.98rem, 2.25rem);
  --space-lg: clamp(2rem, 2.93vw + 1.22rem, 3rem);
  --space-xl: clamp(3rem, 4.88vw + 1.71rem, 4.5rem);

  /* Layout */
  --max-width: 75rem;
  --grid-gap: var(--space-md);
}

/* Enhanced colors for P3 displays */
@media (color-gamut: p3) {
  :root {
    --color-galaxy: oklch(55% 0.29 295);
    --color-nova: oklch(75% 0.2 45);
    --color-aurora: oklch(75% 0.15 295);
    --color-eclipse: oklch(80% 0.15 45);
  }
}

/* Base styles */
body {
  font-family: var(--font-sans);
  font-size: var(--text-base);
  line-height: 1.6;
  color: var(--color-ink);
  background: var(--color-stardust);
  font-weight: 400;
  /* Enable variable font features */
  font-feature-settings:
    "liga" 1,
    "calt" 1;
  /* Improve font rendering */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

:root[data-theme="dark"] {
  body {
    color: var(--color-starlight);
  }
}

h1,
h2,
h3,
h4,
h5 {
  font-family: var(--font-serif);
  line-height: 1.1;
  margin-bottom: 0.5em;
  font-weight: 700;
  /* Enable common Fraunces features */
  font-feature-settings:
    "liga" 1,
    "kern" 1,
    "ss01" 1;
}

h1 {
  font-size: var(--text-4xl);
}
h2 {
  font-size: var(--text-3xl);
}
h3 {
  font-size: var(--text-2xl);
}
h4 {
  font-size: var(--text-xl);
}
h5 {
  font-size: var(--text-lg);
}

code,
pre {
  font-family: var(--font-mono);
  font-weight: 450;
  /* Enable Fira Code ligatures */
  font-feature-settings:
    "liga" 1,
    "calt" 1;
}
